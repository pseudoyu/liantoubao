(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"313":function(e,t,n){"use strict";var o=n(1),a=n(329),r=n(208),i=n(330),c=n(55),l=n.n(c),s=n(57),u=n.n(s),p=n(56),h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var f=function(e){function AtSearchBar(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtSearchBar);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtSearchBar.__proto__||Object.getPrototypeOf(AtSearchBar)).apply(this,arguments));return t.handleFocus=function(){var e;t.setState({"isFocus":!0}),(e=t.props).onFocus.apply(e,arguments)},t.handleBlur=function(){var e;t.setState({"isFocus":!1}),(e=t.props).onBlur.apply(e,arguments)},t.handleChange=function(e){for(var n,o=arguments.length,a=Array(o>1?o-1:0),r=1;r<o;r++)a[r-1]=arguments[r];return(n=t.props).onChange.apply(n,[e.target.value].concat(a))},t.handleClear=function(){for(var e=arguments.length,n=Array(e),o=0;o<e;o++)n[o]=arguments[o];var a;t.props.onClear?t.props.onClear():(a=t.props).onChange.apply(a,[""].concat(n))},t.handleConfirm=function(){var e;return(e=t.props).onConfirm.apply(e,arguments)},t.handleActionClick=function(){var e;return(e=t.props).onActionClick.apply(e,arguments)},t.state={"isFocus":e.focus},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtSearchBar,p["a"]),h(AtSearchBar,[{"key":"render","value":function render(){var e=this.props,t=e.value,n=e.placeholder,c=e.maxLength,s=e.fixed,u=e.disabled,p=e.showActionButton,h=e.actionName,f=e.inputType,d=e.className,m=e.customStyle,y=this.state.isFocus,b=l()("at-search-bar",{"at-search-bar--fixed":s},d),v={},_={};y||!y&&t?(_.opacity=1,_.marginRight="0",v.flexGrow=0):y||t||(v.flexGrow=1,_.opacity=0,_.marginRight="-"+(14*(h.length+1)+7+10)+"px"),p&&(_.opacity=1,_.marginRight="0");var g={"display":"flex"},S={"visibility":"hidden"};return t.length||(g.display="none",S.visibility="visible"),o.l.createElement(a.a,{"className":b,"style":m},o.l.createElement(a.a,{"className":"at-search-bar__input-cnt"},o.l.createElement(a.a,{"className":"at-search-bar__placeholder-wrap","style":v},o.l.createElement(r.a,{"className":"at-icon at-icon-search"}),o.l.createElement(r.a,{"className":"at-search-bar__placeholder","style":S},y?"":n)),o.l.createElement(i.a,{"className":"at-search-bar__input","type":f,"confirmType":"search","value":t,"focus":y,"disabled":u,"maxLength":c,"onInput":this.handleChange,"onFocus":this.handleFocus,"onBlur":this.handleBlur,"onConfirm":this.handleConfirm}),o.l.createElement(a.a,{"className":"at-search-bar__clear","style":g,"onTouchStart":this.handleClear},o.l.createElement(r.a,{"className":"at-icon at-icon-close-circle"}))),o.l.createElement(a.a,{"className":"at-search-bar__action","style":_,"onClick":this.handleActionClick},h))}}]),AtSearchBar}();f.defaultProps={"value":"","placeholder":"搜索","maxLength":140,"fixed":!1,"focus":!1,"disabled":!1,"showActionButton":!1,"actionName":"搜索","inputType":"text","onChange":function onChange(){},"onFocus":function onFocus(){},"onBlur":function onBlur(){},"onConfirm":function onConfirm(){},"onActionClick":function onActionClick(){}},f.propTypes={"value":u.a.string,"placeholder":u.a.string,"maxLength":u.a.number,"fixed":u.a.bool,"focus":u.a.bool,"disabled":u.a.bool,"showActionButton":u.a.bool,"actionName":u.a.string,"inputType":u.a.oneOf(["text","number","idcard","digit"]),"onChange":u.a.func,"onFocus":u.a.func,"onBlur":u.a.func,"onConfirm":u.a.func,"onActionClick":u.a.func,"onClear":u.a.func},t.a=f},"314":function(e,t,n){},"345":function(e,t,n){"use strict";n.r(t);var o,a=n(1),r=n(2),i=n(329),c=n(333),l=n(55),s=n.n(l),u=n(313),p=n(16),h=n(64),f=n(59),d=(n(69),n(314),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),m=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(n):void 0};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=Object(p.b)(function(e){return{"coins":e.coins,"coinids":e.coinids,"price":e.price,"status":e.status}})(o=function(e){function Index(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);for(var o=arguments.length,a=Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=n=_possibleConstructorReturn(this,(e=Index.__proto__||Object.getPrototypeOf(Index)).call.apply(e,[this].concat(a))),n.state={"searchShow":!0,"searchValue":"","data":[]},n.timeoutTimer=null,n.currScroll=null,n.config={"navigationBarTitleText":"行情"},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,r["default"].Component),d(Index,[{"key":"componentWillMount","value":function componentWillMount(){this.setState({"data":this.props.coinids})}},{"key":"SearchChange","value":function SearchChange(e){this.setState({"searchValue":e})}},{"key":"SearchAction","value":function SearchAction(){var e=this.props.coinids;if(this.state.searchValue){var t=this.props.coins;for(var n in e=[],t)-1!==(t[n].title+t[n].code).toLowerCase().indexOf(this.state.searchValue.toLowerCase())&&e.push(t[n].id)}this.setState({"data":e})}},{"key":"SearchClear","value":function SearchClear(){this.setState({"searchValue":"","data":this.props.coinids})}},{"key":"onScroll","value":function onScroll(e){var t=this,n=e.detail,o=n.scrollTop,a=n.scrollHeight;o<0||o>=a||(null!==this.timeoutTimer&&clearTimeout(this.timeoutTimer),this.timeoutTimer=setTimeout(function(){var e=o-t.currScroll;e>-50&&t.state.searchShow?t.setState({"searchShow":!1}):e<50&&!t.state.searchShow&&t.setState({"searchShow":!0}),t.currScroll=o,t.timeoutTimer=null},300))}},{"key":"onScrollToLower","value":function onScrollToLower(){console.log("onScrollToLower")}},{"key":"redirectDetail","value":function redirectDetail(e){r.default.redirectTo({"url":"/pages/quotation/detail?id="+e})}},{"key":"render","value":function render(){var e=this,t=s()("jxh-content-items","quotation-search",this.state.searchShow?"":"quotation-search-hidden"),n=this.props.status.money.symbol,o=this.state.data.map(function(t){var o="0.00";return e.props.price[t]&&(o=Object(f.f)(e.props.price[t],!0)),a.l.createElement(i.a,{"className":"quotation-item","onClick":f.g.bind(e,"/pages/quotation/detail",{"id":t})},a.l.createElement(h.a,{"coinId":t}),a.l.createElement(i.a,{"className":"quotation-item-price"},n," ",o))});return a.l.createElement(i.a,{"className":"jxh-app"},a.l.createElement(i.a,{"className":"jxh-content"},a.l.createElement(i.a,{"className":"jxh-content-items"},a.l.createElement(i.a,{"className":"jxh-container jxh-pt-20"},a.l.createElement(h.k,{"current":0}))),a.l.createElement(i.a,{"className":t},a.l.createElement(u.a,{"actionName":"搜索","value":this.state.searchValue,"onChange":this.SearchChange.bind(this),"onClear":this.SearchClear.bind(this),"onActionClick":this.SearchAction.bind(this)})),a.l.createElement(i.a,{"className":"jxh-content-lists jxh-pt-20"},a.l.createElement(c.a,{"className":"jxh-content-lists-scroll","scrollY":!0,"onScrollToLower":this.onScrollToLower.bind(this),"onScroll":this.onScroll.bind(this)},a.l.createElement(i.a,{"className":"jxh-container"},o))),a.l.createElement(i.a,{"className":"jxh-bottom"})),a.l.createElement(h.j,{"current":1}))}},{"key":"componentDidMount","value":function componentDidMount(){m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&m(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}())||o},"69":function(e,t,n){}}]);