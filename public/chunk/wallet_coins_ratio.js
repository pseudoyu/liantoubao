(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{"336":function(e,t,o){"use strict";o.r(t);var n,r=o(1),i=o(2),a=o(61),c=o(329),l=o(208),s=o(333),p=o(207),u=o(104),f=o(64),h=o(16),m=o(59),d=(o(84),function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}()),y=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:get(r,t,o)}if("value"in n)return n.value;var i=n.get;return void 0!==i?i.call(o):void 0};t.default=Object(h.b)(function(e){return{"coins":e.coins}})(n=function(e){function Ratio(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ratio);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Ratio.__proto__||Object.getPrototypeOf(Ratio)).call(this,e));return t.config={"navigationBarTitleText":"持有币种占比"},t.state={"income":0,"coins":[],"chartColor":["#1890FF","#2FC25A","#FACC14","#F04766","#8543E1"],"incomeSize":50,"incomeText":20,"charHeight":0},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Ratio,a["a"]),d(Ratio,[{"key":"componentDidMount","value":function componentDidMount(){var e=this;i.default.$http.get("/trades/has_coin_percent").then(function(t){var o=t.data.data.map(function(t){var o=e.props.coins[t.coin_id];return{"id":t.coin_id,"title":o.title||"","value":100*t.percent,"name":o.code||""}}),n=parseInt(100*t.data.rate);e.setState({"coins":o,"income":n})}).catch(function(e){console.log(e)})}},{"key":"calcHeight","value":function calcHeight(){var e=document.getElementsByTagName("html")[0],t=e.style.fontSize.match(/[\d\.]+/)[0],o=i.default.pxTransform(60).match(/[\d\.]+/)[0]*t,n=i.default.pxTransform(40).match(/[\d\.]+/)[0]*t,r=e.clientHeight/100*55;return{"incomeSize":o,"incomeTop":r/2-o/1.5+"px","incomeText":n,"incomeTtop":r/2+n+"px","charHeight":r}}},{"key":"render","value":function render(){var e=this,t=this.calcHeight(),o=t.charHeight+"px",n=this.state.chartColor.length,i=this.state.coins.map(function(t,o){var i=e.state.chartColor[o<n?o:o%n],a="ratio-graphic-item"+(o%4==3?"":" ratio-graphic-item-mr");return r.l.createElement(c.a,{"className":a,"onClick":m.g.bind(e,"/pages/wallet/coins/detail",{"coin_id":t.id})},r.l.createElement(c.a,{"className":"ratio-graphic-item-icon"},r.l.createElement(p.a,{"prefixClass":"jxh","value":"yuandian","size":"15","color":i})),r.l.createElement(c.a,{"className":"ratio-graphic-item-content"},r.l.createElement(l.a,{"className":"ratio-graphic-item-content-name"},t.title,r.l.createElement("br",null)),r.l.createElement(l.a,{"className":"ratio-graphic-item-content-code"},t.name)))});return r.l.createElement(c.a,{"className":"jxh-app"},r.l.createElement(c.a,{"className":"ratio-container"},r.l.createElement(u.a,{"height":o,"option":{"color":this.state.chartColor,"graphic":{"elements":[{"type":"text","left":"center","top":t.incomeTop,"style":{"text":this.state.income+"%","textAlign":"center","fill":"#82B1E1","fontSize":t.incomeSize}},{"type":"text","left":"center","top":t.incomeTtop,"style":{"text":"收益率","textAlign":"center","fill":"#767676","fontSize":t.incomeText}}]},"series":[{"name":"访问来源","type":"pie","radius":["35%","65%"],"x":"center","avoidLabelOverlap":!1,"label":{"normal":{"show":!0,"position":"outside","color":"#9C9C9C","formatter":"{b}\n{d}%"}},"data":this.state.coins}]}}),r.l.createElement(c.a,{"className":"jxh-hr"}),r.l.createElement(c.a,{"className":"ratio-graphic"},r.l.createElement(s.a,{"scrollY":!0,"className":"ratio-graphic-scroll"},i)),r.l.createElement(c.a,{"className":"jxh-bottom"})),r.l.createElement(f.e,{"to":"/pages/wallet/index"}),r.l.createElement(f.j,{"currer":0}))}},{"key":"componentDidShow","value":function componentDidShow(){y(Ratio.prototype.__proto__||Object.getPrototypeOf(Ratio.prototype),"componentDidShow",this)&&y(Ratio.prototype.__proto__||Object.getPrototypeOf(Ratio.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){y(Ratio.prototype.__proto__||Object.getPrototypeOf(Ratio.prototype),"componentDidHide",this)&&y(Ratio.prototype.__proto__||Object.getPrototypeOf(Ratio.prototype),"componentDidHide",this).call(this)}}]),Ratio}())||n},"61":function(e,t,o){"use strict";o.d(t,"a",function(){return i});var n=o(2),r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();var i=function(e){function Auth(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Auth),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Auth.__proto__||Object.getPrototypeOf(Auth)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Auth,n["default"].Component),r(Auth,[{"key":"componentWillMount","value":function componentWillMount(){var e=n.default.$store.getState().session.token;""!==e&&e||n.default.redirectTo({"url":"/pages/member/login"})}}]),Auth}()},"84":function(e,t,o){}}]);