(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"138":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var o,a,r=n(1),l=n(55),i=n.n(l),c=n(333),s=n(57),u=n.n(s),p=n(68),f=n.n(p),h=n(56),m=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=(o=function(e){function AtActionSheetItem(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtActionSheetItem);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return t=n=_possibleConstructorReturn(this,(e=AtActionSheetItem.__proto__||Object.getPrototypeOf(AtActionSheetItem)).call.apply(e,[this].concat(r))),a.call(n),_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtActionSheetItem,h["a"]),m(AtActionSheetItem,[{"key":"render","value":function render(){var e=i()("at-action-sheet__item",this.props.className);return r.l.createElement(c.a,{"className":e,"onClick":this.handleClick},this.props.children)}}]),AtActionSheetItem}(),a=function _initialiseProps(){var e=this;this.handleClick=function(){var t;f()(e.props.onClick)&&(t=e.props).onClick.apply(t,arguments)}},o);d.propTypes={"onClick":u.a.func}},"152":function(e,t,n){"use strict";var o=n(1),a=n(333),r=n(57),l=n.n(r),i=n(55),c=n.n(i),s=n(68),u=n.n(s),p=n(56),f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var h=function(e){function AtActionSheetBody(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtActionSheetBody),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtActionSheetBody.__proto__||Object.getPrototypeOf(AtActionSheetBody)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtActionSheetBody,p["a"]),f(AtActionSheetBody,[{"key":"render","value":function render(){var e=c()("at-action-sheet__body",this.props.className);return o.l.createElement(a.a,{"className":e},this.props.children)}}]),AtActionSheetBody}(),m=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var d,y,b=function(e){function AtActionSheetHeader(){return function header_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtActionSheetHeader),function header_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtActionSheetHeader.__proto__||Object.getPrototypeOf(AtActionSheetHeader)).apply(this,arguments))}return function header_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtActionSheetHeader,p["a"]),m(AtActionSheetHeader,[{"key":"render","value":function render(){var e=c()("at-action-sheet__header",this.props.className);return o.l.createElement(a.a,{"className":e},this.props.children)}}]),AtActionSheetHeader}(),_=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function footer_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var v=(d=function(e){function AtActionSheetFooter(){var e,t,n;!function footer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtActionSheetFooter);for(var o=arguments.length,a=Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=n=footer_possibleConstructorReturn(this,(e=AtActionSheetFooter.__proto__||Object.getPrototypeOf(AtActionSheetFooter)).call.apply(e,[this].concat(a))),y.call(n),footer_possibleConstructorReturn(n,t)}return function footer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtActionSheetFooter,p["a"]),_(AtActionSheetFooter,[{"key":"render","value":function render(){var e=c()("at-action-sheet__footer",this.props.className);return o.l.createElement(a.a,{"onClick":this.handleClick,"className":e},this.props.children)}}]),AtActionSheetFooter}(),y=function _initialiseProps(){var e=this;this.handleClick=function(){var t;u()(e.props.onClick)&&(t=e.props).onClick.apply(t,arguments)}},d);v.propTypes={"onClick":l.a.func},n.d(t,"a",function(){return E});var w=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var E=function(e){function AtActionSheet(e){!function action_sheet_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AtActionSheet);var t=function action_sheet_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(AtActionSheet.__proto__||Object.getPrototypeOf(AtActionSheet)).apply(this,arguments));t.handleClose=function(){u()(t.props.onClose)&&t.props.onClose()},t.handleCancel=function(){if(u()(t.props.onCancel))return t.props.onCancel();t.close()},t.close=function(){t.setState({"_isOpened":!1},t.handleClose)},t.handleTouchMove=function(e){e.stopPropagation(),e.preventDefault()};var n=e.isOpened;return t.state={"_isOpened":n},t}return function action_sheet_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AtActionSheet,p["a"]),w(AtActionSheet,[{"key":"componentWillReceiveProps","value":function componentWillReceiveProps(e){var t=e.isOpened;t!==this.state._isOpened&&(this.setState({"_isOpened":t}),!t&&this.handleClose())}},{"key":"render","value":function render(){var e=this.props,t=e.title,n=e.cancelText,r=e.className,l=this.state._isOpened,i=c()("at-action-sheet",{"at-action-sheet--active":l},r);return o.l.createElement(a.a,{"className":i,"onTouchMove":this.handleTouchMove},o.l.createElement(a.a,{"onClick":this.close,"className":"at-action-sheet__overlay"}),o.l.createElement(a.a,{"className":"at-action-sheet__container"},t&&o.l.createElement(b,null,t),o.l.createElement(h,null,this.props.children),n&&o.l.createElement(v,{"onClick":this.handleCancel},n)))}}]),AtActionSheet}();E.defaultProps={"title":"","cancelText":"","isOpened":!1},E.propTypes={"title":l.a.string,"onClose":l.a.func,"onCancel":l.a.func,"isOpened":l.a.bool,"cancelText":l.a.string}},"332":function(e,t,n){"use strict";n.r(t);var o,a=n(1),r=n(2),l=n(63),i=n(333),c=n(210),s=n(138),u=n(209),p=n(152),f=n(16),h=n(55),m=n.n(h),d=n(61),y=n(64),b=(n(84),n(69),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}()),_=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var a=Object.getPrototypeOf(e);return null===a?void 0:get(a,t,n)}if("value"in o)return o.value;var r=o.get;return void 0!==r?r.call(n):void 0};function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=Object(f.b)(function(e){return{"coins":e.coins,"price":e.price,"status":e.status}})(o=function(e){function Index(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Index);for(var o=arguments.length,a=Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=n=_possibleConstructorReturn(this,(e=Index.__proto__||Object.getPrototypeOf(Index)).call.apply(e,[this].concat(a))),n.state={"currIncome":0,"incomeSelector":!1,"assets":{"having":0,"total_income":0,"total_price":0,"costs":0,"rate":0,"rank":0},"hasCoins":[]},n.config={"navigationBarTitleText":"钱包"},n.incomeTime=["curr","month","season","half","year"],_possibleConstructorReturn(n,t)}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Index,l["a"]),b(Index,[{"key":"componentWillMount","value":function componentWillMount(){var e=this;_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentWillMount",this).call(this),this.fetchIncome(),r.default.$http.get("/trades/my_coin").then(function(t){e.setState({"hasCoins":t.data})}).catch(function(e){console.log(e)})}},{"key":"statsIncome","value":function statsIncome(){this.setState({"incomeSelector":!0})}},{"key":"sheetCancel","value":function sheetCancel(){this.setState({"incomeSelector":!1})}},{"key":"redirectTo","value":function redirectTo(e){r.default.redirectTo({"url":e})}},{"key":"fetchIncome","value":function fetchIncome(){var e=this;r.default.$http.get("/trades/my_income").then(function(t){e.setState({"assets":t.data})}).catch(function(e){console.log(e)})}},{"key":"fetchIncomeTime","value":function fetchIncomeTime(e){var t=this;r.default.$http.get("/trades/my_income_time",{"search_time":e}).then(function(e){var n=t.state.assets;n.rate=e.data,t.setState({"assets":n})}).catch(function(e){console.log(e)})}},{"key":"selectIncome","value":function selectIncome(e){if(e!==this.state.currIncome){var t=this.incomeTime[e];this.setState({"currIncome":e,"incomeSelector":!1}),"curr"===t?this.fetchIncome():this.fetchIncomeTime(t)}}},{"key":"render","value":function render(){var e=this,t=["总收益","当月","当前季度","当前半年","今年来"],n=t[this.state.currIncome],o=t.map(function(t,n){return a.l.createElement(s.a,{"onClick":e.selectIncome.bind(e,n)},t)}),r=this.props.status.money.symbol,l=this.state.hasCoins.map(function(t){var n=Object(d.f)(t.price),o=Object(d.e)(t.nums),l=Object(d.d)(parseFloat(100*t.income_rate).toFixed(2)),c=t.profit_limit>0&&t.price>t.profit_limit||t.loss_limit>0&&t.price<t.loss_limit?a.l.createElement(u.a,{"prefixClass":"jxh","value":"yujing","size":"16","color":"#FF0000"}):"",s=m()("wallet-coins",""!==c?"wallet-coins-wrin":""),p=l>0?a.l.createElement(u.a,{"value":"chevron-up","size":"16"}):0===l?"":a.l.createElement(u.a,{"value":"chevron-down","size":"16"}),f=m()("wallet-coins-trend-icon",l>0?"wallet-up":0===l?"":"wallet-down");return a.l.createElement(i.a,{"className":s,"onClick":d.g.bind(e,"/pages/wallet/coins/detail",{"coin_id":t.coin_id})},a.l.createElement(y.a,{"coinId":t.coin_id}),a.l.createElement(i.a,{"className":"wallet-coins-trend"},a.l.createElement(i.a,{"className":f},l,"%",p),a.l.createElement(i.a,null,c)),a.l.createElement(i.a,{"className":"wallet-coins-hold"},a.l.createElement(i.a,{"className":"wallet-coins-hold-price"},r," ",n),a.l.createElement(i.a,{"className":"wallet-coins-hold-num"},o)))});return a.l.createElement(i.a,{"className":"jxh-app"},a.l.createElement(i.a,{"className":"jxh-container"},a.l.createElement(i.a,{"className":"jxh-title jxh-pt-20"},a.l.createElement(i.a,{"className":"jxh-title-item"},a.l.createElement(u.a,{"prefixClass":"jxh","value":"hua","size":"16","color":"#6885CF"}),a.l.createElement(c.a,{"className":"jxh-title-content"},"我的收益")),a.l.createElement(i.a,{"className":"jxh-title-action"},a.l.createElement(i.a,{"className":"wallet-income","onClick":this.statsIncome.bind(this)},a.l.createElement(c.a,{"className":"wallet-income-content"},n),a.l.createElement(u.a,{"prefixClass":"jxh","value":"xiangxia","size":"16","color":"#FFFFFF"}))))),a.l.createElement(i.a,{"className":"jxh-container"},a.l.createElement(i.a,{"className":"wallet-panel"},a.l.createElement(i.a,{"className":"wallet-panel-income"},a.l.createElement(i.a,{"className":"wallet-panel-income-assets"},a.l.createElement(i.a,{"className":"wallet-panel-income-assets-item"},a.l.createElement(i.a,{"className":"wallet-panel-income-assets-item-title"},"持有收益"),a.l.createElement(i.a,{"className":"wallet-panel-income-assets-item-value"},r," ",Object(d.f)(this.state.assets.having))),a.l.createElement(i.a,{"className":"wallet-panel-income-assets-item"},a.l.createElement(i.a,{"className":"wallet-panel-income-assets-item-title"},"累计收益"),a.l.createElement(i.a,{"className":"wallet-panel-income-assets-item-value"},r," ",Object(d.f)(this.state.assets.total_income)))),a.l.createElement(i.a,{"className":"wallet-panel-income-ratio"},a.l.createElement(i.a,{"className":"wallet-panel-income-ratio-rate"},a.l.createElement(i.a,{"className":"wallet-panel-income-ratio-rate-title"},"收益率:"),a.l.createElement(i.a,{"className":"wallet-panel-income-ratio-rate-value"},Object(d.e)(100*this.state.assets.rate,2,!0),"%")),a.l.createElement(i.a,{"className":"wallet-panel-income-ratio-prop"},"您已超过 ",a.l.createElement(c.a,{"className":"wallet-panel-income-ratio-prop-ratio"},this.state.assets.rank,"%")," 的用户"))),a.l.createElement(i.a,{"className":"wallet-panel-container"},a.l.createElement(i.a,{"className":"wallet-panel-assets"},a.l.createElement(i.a,{"className":"wallet-panel-container-title"},"总资产"),a.l.createElement(i.a,{"className":"wallet-panel-container-value"},r," ",Object(d.f)(this.state.assets.total_price))),a.l.createElement(i.a,{"className":"wallet-panel-cost"},a.l.createElement(i.a,{"className":"wallet-panel-container-title"},"总投入"),a.l.createElement(i.a,{"className":"wallet-panel-container-value"},r," ",Object(d.f)(this.state.assets.costs)))))),a.l.createElement(i.a,{"className":"jxh-container"},a.l.createElement(i.a,{"className":"wallet-actions"},a.l.createElement(i.a,{"className":"wallet-actions-item","onClick":this.redirectTo.bind(this,"/pages/wallet/trades/index")},a.l.createElement(i.a,null,a.l.createElement(u.a,{"prefixClass":"jxh","value":"history","size":"28","color":"#6885CF"})),a.l.createElement(i.a,null,"交易记录")),a.l.createElement(i.a,{"className":"wallet-actions-item wallet-actions-hold","onClick":this.redirectTo.bind(this,"/pages/wallet/coins/ratio")},a.l.createElement(i.a,null,a.l.createElement(u.a,{"prefixClass":"jxh","value":"bili","size":"28","color":"#FFFFFF"})),a.l.createElement(i.a,null,"持有币种占比")),a.l.createElement(i.a,{"className":"wallet-actions-item","onClick":this.redirectTo.bind(this,"/pages/wallet/trades/coins")},a.l.createElement(i.a,null,a.l.createElement(u.a,{"prefixClass":"jxh","value":"add","size":"28","color":"#6885CF"})),a.l.createElement(i.a,null,"新增交易")))),a.l.createElement(i.a,{"className":"jxh-container"},a.l.createElement(i.a,{"className":"jxh-title jxh-mt-40"},a.l.createElement(i.a,{"className":"jxh-title-item"},a.l.createElement(u.a,{"prefixClass":"jxh","value":"hua","size":"16","color":"#6885CF"}),a.l.createElement(c.a,{"className":"jxh-title-content"},"我的货币")))),a.l.createElement(i.a,{"className":"jxh-container"},l),a.l.createElement(i.a,{"className":"jxh-bottom"}),a.l.createElement(p.a,{"isOpened":this.state.incomeSelector,"onCancel":this.sheetCancel.bind(this),"cancelText":"取消"},o),a.l.createElement(y.j,{"current":0}))}},{"key":"componentDidMount","value":function componentDidMount(){_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this)&&_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidMount",this).call(this)}},{"key":"componentDidShow","value":function componentDidShow(){_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this)&&_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidShow",this).call(this)}},{"key":"componentDidHide","value":function componentDidHide(){_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this)&&_(Index.prototype.__proto__||Object.getPrototypeOf(Index.prototype),"componentDidHide",this).call(this)}}]),Index}())||o},"63":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o=n(2),a=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var r=function(e){function Auth(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Auth),function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(Auth.__proto__||Object.getPrototypeOf(Auth)).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{"constructor":{"value":e,"enumerable":!1,"writable":!0,"configurable":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Auth,o["default"].Component),a(Auth,[{"key":"componentWillMount","value":function componentWillMount(){var e=o.default.$store.getState().session.token;""!==e&&e||o.default.redirectTo({"url":"/pages/member/login"})}}]),Auth}()},"69":function(e,t,n){},"84":function(e,t,n){}}]);